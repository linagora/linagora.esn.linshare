!function(n){var e={};function r(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=n,r.c=e,r.d=function(n,e,t){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)r.d(t,i,function(e){return n[e]}.bind(null,i));return t},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=0)}({0:function(n,e,r){r("9kT/"),r("rqK0"),r("T1Pd"),r("0MVl"),r("2c2l"),r("3113"),r("yyLd"),r("A63I"),r("F5F5"),r("JBYb"),r("vFWH"),r("HNOz"),r("pIqv"),r("vpRw"),r("eDkh"),r("P5t+"),n.exports=r("VM+1")},"0MVl":function(n,e){!function(n){"use strict";n.module("linagora.esn.linshare").run(["esnModuleRegistry","LINSHARE_MODULE_METADATA",function(n,e){n.add(e)}])}(angular)},"2c2l":function(n,e){!function(){"use strict";function n(n){var e=this;return n("linagora.esn.linshare.instanceURL").then((function(n){e.linshareInstanceUrl=n}))}n.$inject=["esnConfig"],angular.module("linagora.esn.linshare").controller("linshareApplicationMenuController",n)}()},3113:function(n,e){!function(){"use strict";function n(n,e){return{retrict:"E",replace:!0,controller:"linshareApplicationMenuController",controllerAs:"$ctrl",scope:!0,template:n({url:"{{$ctrl.linshareInstanceUrl}}",target:"_blank",rel:"noopener noreferrer"},{url:e.icon},e.title,"core.modules.linagora.esn.linshare.enabled",e.isDisplayedByDefault)}}n.$inject=["applicationMenuTemplateBuilder","LINSHARE_MODULE_METADATA"],angular.module("linagora.esn.linshare").directive("linshareApplicationMenu",n)}()},"9kT/":function(n,e){!function(n){"use strict";n.module("linagora.esn.linshare",["ui.router","op.dynamicDirective","restangular","esn.http","esn.configuration","esn.cache","esn.background","esn.i18n","esn.file-browser","esn.module-registry","esn.lodash-wrapper"])}(angular)},A63I:function(n,e){!function(n){"use strict";function e(n,e,r){return new n({loader:function(){return e.generateJwtToken().then((function(n){return n.data}))},keyBuilder:function(){return"token"},ttl:r})}e.$inject=["Cache","linshareApiService","LINSHARE_JWT_TOKEN_CACHE_TIMEOUT"],n.module("linagora.esn.linshare").factory("linshareJwtTokenCache",e)}(angular)},F5F5:function(n,e){!function(n){"use strict";function e(n,e){return n.withConfig((function(n){n.setFullResponse(!0),n.setBaseUrl("/linagora.esn.linshare/api"),n.setErrorInterceptor((function(n){return 401===n.status&&e.redirectToLogin(),!0}))}))}e.$inject=["Restangular","httpErrorHandler"],n.module("linagora.esn.linshare").factory("linshareRestangular",e)}(angular)},HNOz:function(n,e){!function(n){"use strict";function e(n,e){this.options={multipleSelect:!0,rootName:e.translate("My space").toString()},this.loadNode=n.loadMySpace()}e.$inject=["linshareFileBrowserLoaders","esnI18nService"],n.module("linagora.esn.linshare").controller("linshareMyspaceFileBrowserController",e)}(angular)},JBYb:function(n,e){!function(n){"use strict";n.module("linagora.esn.linshare").component("linshareConfigForm",{templateUrl:"/linagora.esn.linshare/app/config-form/linshare-config-form.html",bindings:{configurations:"="}})}(angular)},"P5t+":function(n,e){!function(n){"use strict";function e(n,e,r){return{uploadFile:function(t,i,o,a,u,l){var s=n.defer(),c=r.createDocument({file:i,fileSize:a},{onUploadProgress:s.notify});l&&l.then(c.cancel);return c.then(s.resolve,s.reject),e(s.promise)}}}e.$inject=["$q","inBackground","linshareApiClient"],n.module("linagora.esn.linshare").factory("linshareFileUpload",e)}(angular)},T1Pd:function(n,e){!function(n){"use strict";n.module("linagora.esn.linshare").constant("LINSHARE_NODE_ICON",{DOCUMENT:"mdi-file"}).constant("LINSHARE_MODULE_METADATA",{id:"linagora.esn.linshare",title:"LinShare",icon:"/linagora.esn.linshare/images/linshare-icon.svg",disableable:!0,isDisplayedByDefault:!1,config:{template:"linshare-config-form",displayIn:{user:!1,domain:!1,platform:!0}}}).constant("LINSHARE_JWT_TOKEN_CACHE_TIMEOUT",24e4)}(angular)},"VM+1":function(n,e){!function(n){"use strict";function e(n,e){return{loadMySpace:function(){return n.listDocuments().then((function(n){return n.map((function(n){return n.icon=e.DOCUMENT,n.isSelectable=!0,n}))}))}}}e.$inject=["linshareApiClient","LINSHARE_NODE_ICON"],n.module("linagora.esn.linshare").factory("linshareFileBrowserLoaders",e)}(angular)},eDkh:function(n,e){!function(n){"use strict";n.module("linagora.esn.linshare").factory("LinshareApiClient",["$window",function(n){return n.LinshareApiClient}])}(angular)},pIqv:function(n,e){!function(n){"use strict";function e(n,e,r,t){var i=null,o=null;return{get:function(){return t.get().then((function(t){return o&&t===i?o:(o=null,i=t,function(t){return e("linagora.esn.linshare.apiBasePathFrontend").then((function(e){return e?new r.Client({baseUrl:e,auth:{type:"jwt",token:t}}):n.reject(new Error("LinShare API base path for frontend is not configured"))}))}(t))})).then((function(n){return o=n}))}}}e.$inject=["$q","esnConfig","LinshareApiClient","linshareJwtTokenCache"],n.module("linagora.esn.linshare").factory("linshareApiClientProvider",e)}(angular)},rqK0:function(n,e){!function(){"use strict";function n(n){var e=new n.DynamicDirective(!0,"linshare-application-menu",{priority:-10});n.addInjection("esn-application-menu",e)}n.$inject=["dynamicDirectiveServiceProvider"],angular.module("linagora.esn.linshare").config(n)}()},vFWH:function(n,e){!function(n){"use strict";n.module("linagora.esn.linshare").component("linshareMyspaceFileBrowser",{templateUrl:"/linagora.esn.linshare/app/myspace-file-browser/linshare-myspace-file-browser.html",bindings:{selectedNodes:"="},controller:"linshareMyspaceFileBrowserController"})}(angular)},vpRw:function(n,e){!function(n){"use strict";function e(e,r){return{NODE_TYPE:e.NODE_TYPE,ASYNC_TASK_STATUS:e.ASYNC_TASK_STATUS,getDocument:function(n){return t().then((function(e){return e.user.documents.get(n)}))},createDocument:function(e,r){var i=n.noop,o=t().then((function(n){var t=new FormData;t.append("file",e.file),t.append("filesize",e.fileSize);var o=n.user.documents.create(t,r);return i=o.cancel,o}));return o.cancel=function(){i()},o},createDocumentFromUrl:function(n,e){return t().then((function(r){return r.user.documents.createFromUrl(n,e)}))},getDocumentAsyncTaskById:function(n){return t().then((function(e){return e.user.documents.getAsyncTask(n)}))},listWorkgroups:function(){return t().then((function(n){return n.user.workgroup.list()}))},listNodes:function(n,e){return t().then((function(r){return r.user.workgroup.listNodes(n,e)}))},listDocuments:function(){return t().then((function(n){return n.user.documents.list()}))},shareDocuments:function(n){return t().then((function(e){return e.user.shares.shareDocuments(n)}))},downloadDocument:function(n,e){return t().then((function(r){return r.user.workgroup.downloadDocument(n,e)}))}};function t(){return r.get()}}e.$inject=["LinshareApiClient","linshareApiClientProvider"],n.module("linagora.esn.linshare").factory("linshareApiClient",e)}(angular)},yyLd:function(n,e){!function(n){"use strict";function e(n){return{generateJwtToken:function(){return n.one("token").post()}}}e.$inject=["linshareRestangular"],n.module("linagora.esn.linshare").factory("linshareApiService",e)}(angular)}});